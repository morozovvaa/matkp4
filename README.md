# Практическая работа 4 - Разработка механик и эффектов в 2D-игре с использованием Pygame  
## Цель работы: Освоить реализацию простых механик, эффектов и взаимодействий в рамках 2D-игр, используя pygame. Каждая механика разрабатывается независимо от остальных на основе одной и той же базовой заготовки игры, что позволяет сосредоточиться на конкретных аспектах каждой реализации.  

### Задание 1. Базовая заготовка игры
## Описание исходного кода

Исходный код представляет собой базовую структуру 2D-игры и содержит следующие элементы:

*   **Инициализация Pygame:**
    *   Инициализация библиотеки Pygame (`pygame.init()`).
    *   Настройка параметров окна игры (`pygame.display.set_mode()`, `pygame.display.set_caption()`) и частоты кадров (`pygame.time.Clock()`).
    *   Определение основных цветов (белый, черный, синий, красный).
*   **Инициализация игровых объектов:**
    *   Размеры игрока, объектов и стен (`PLAYER_SIZE`, `OBJECT_SIZE`, `WALL_THICKNESS`).
    *   Начальные координаты игрока (`player_x`, `player_y`) и его скорость (`player_dx`, `player_dy`).
    *   Создание списка `objects` с прямоугольными объектами (препятствиями).
*   **Основной игровой цикл:**
    *   Обработка событий (`pygame.event.get()`):
        *   Закрытие окна (`pygame.QUIT`).
        *   Нажатие клавиш управления (`pygame.KEYDOWN`):  задание направления движения персонажа.
        *   Отпускание клавиш управления (`pygame.KEYUP`): остановка движения персонажа.
    *   Обновление позиции игрока на основе его скорости: `player_x += player_dx`, `player_y += player_dy`.
    *   Ограничение перемещения игрока в пределах границ окна: `player_x = max(...)`, `player_y = max(...)`.
    *   Отрисовка элементов на экране:
        *   Очистка экрана белым цветом (`screen.fill(WHITE)`).
        *   Отрисовка стен (`pygame.draw.rect()`).
        *   Отрисовка персонажа (`pygame.draw.rect()`, `pygame.draw.line()`).
        *   Отрисовка неподвижных объектов (`pygame.draw.rect()`).
    *   Обновление экрана и контроль частоты кадров: `pygame.display.flip()`, `clock.tick(FPS)`.

## Модификации и добавление проверки столкновений

Внесены следующие изменения для реализации проверки столкновений:

*   **Создание прямоугольника персонажа:**
    ```python
    player_rect = pygame.Rect(player_x, player_y, PLAYER_SIZE, PLAYER_SIZE)
    ```
    Создается объект `pygame.Rect` для представления области, занимаемой персонажем, что необходимо для проверки столкновений.

*   **Проверка столкновений с объектами:**

    ```python
    for obj in objects:
        if player_rect.colliderect(obj):
           # Обнаружено столкновение. Меняем направление скорости игрока на противоположное
            if player_dx > 0:  # Движение вправо
                player_x = obj.left - PLAYER_SIZE -1
            elif player_dx < 0: # Движение влево
               player_x = obj.right + 1
            elif player_dy > 0:
              player_y = obj.top - PLAYER_SIZE - 1 # движение вниз
            elif player_dy < 0:
               player_y = obj.bottom + 1 #движение вверх
    ```

    *   Создаётся цикл для перебора всех объектов в списке `objects`.
    *   Используется метод `player_rect.colliderect(obj)` для проверки пересечения прямоугольников персонажа и текущего объекта.
    *   При обнаружении столкновения:
         *  Определяется направление движения игрока
        *  Позиция игрока меняется на границу объекта со стороны его направления.
